#!groovy
	

	pipeline {
	    agent none
	    stages{
	    stage('Maven Build') {
	      agent any
	      steps {
	        sh 'mvn -f Myweb/pom.xml compile'
	      }
	    }	    
	    stage('Docker Build') {
	      agent any
	      steps {
	        sh 'docker build -t test/myapp .'
	      }
	    }
	        stage('Docker Deploy') {
	      agent any
	      steps {
	        sh 'docker run -p 8081:8081 test/myapp'
	          
	      }
	    }
	  }
	}
